#! /bin/bash
if [ -z "$VIEW" ]; then
    echo "Error: VIEW not set"
    exit 1
fi

tmux new-session 'work' \; \
    new  -n mdt \; \
    neww -n build \; \
    neww -n src1 \; \
    neww -n scr2 \; \
    neww -n src3 \; \
    neww -n notes \; \
    selectw -t 0 \; \
    send-keys 'sudo su -' C-m \; \
    send-keys "cd '$VIEW'" C-m \; \
    send-keys 's' C-m \; \
    send-keys 'cd /usr/local/bt/Moduletests/' C-m \; \
    selectw -t 1 \; \
    send-keys "cd '$VIEW'" C-m \; \
    send-keys 's' C-m \; \
    send-keys 'cd ..' C-m \; \
    send-keys 'time mb -n pismdt*' C-m \; \
    selectw -t 2 \; \
    send-keys "cd '$VIEW'" C-m \; \
    send-keys 's' C-m \; \
    send-keys 'cdv' C-m \; \
    send-keys 'fswp' C-m \; \
    selectw -t 3 \; \
    send-keys "cd '$VIEW'" C-m \; \
    send-keys 's' C-m \; \
    send-keys 'cdv' C-m \; \
    selectw -t 4 \; \
    send-keys "cd '$VIEW'" C-m \; \
    send-keys 's' C-m \; \
    send-keys 'cdv' C-m \; \
    selectw -t 5 \; \
    send-keys 'sudo su -' C-m \; \
    send-keys 'vi /root/currentSprint.txt' C-m \; \
    selectw -t 1
